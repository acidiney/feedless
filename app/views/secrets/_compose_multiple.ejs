<div>
  <button class="secret-button js-compose-secret-message" style="padding: 10px 14px; justify-content: center">
    ✍️ Send a Secret
  </button>
  <div class="overlay" hidden></div>
  <div class="modal" hidden>
    <div class="js-step">
      <div class="modal-header">Write a secret message</div>
      <div class="modal-body">
        <textarea name="message" class="compose-post js-secret-message-input" style="margin: 0"></textarea>
      </div>
      <div class="modal-footer">
        you can choose the recipients in the next step
        <button class="modal-confirm">Next</button>
      </div>
    </div>
    <div class="js-step" hidden>
      <div class="modal-header">Choose the recipients</div>
      <div class="modal-body js-recipients-list">
        <% allFollowing = friends.friends.concat(friends.requestsSent) %>
        <% allFollowing.map(friend => { %>
          <div>
            <label>
              <input type="checkbox" name="recps" class="js-secret-recipients" value="<%= friend.id %>">
              <%= friend.name %>
            </label>
          </div>
        <% }) %>
        <% if (allFollowing.length == 0) { %>
          <p>You don't have any friends 🙁</p>
          <p>Go add some to tell secrets</p>
        <% } %>
      </div>
      <div class="modal-footer">
        this message will disapear right after being read
        <button class="modal-confirm js-secret-publish">Send</button>
        <div hidden class="js-sending-message"></div>
      </div>
    </div>
  </div>
</div>